(function(){var f={ARROW_LEFT:37,ARROW_RIGHT:39,TAB:9},g={FOCUS:"can-focus"},h=document.documentElement,k={delegate:function(a,b,c,e){a.addEventListener(c,function(a){for(a=a.target;a;){if(k.matches(a,b)){e(a);break}a=a.parentElement}},!1)},matches:function(a,b){return Element.prototype.matches?a.matches(b):(Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector).call(a,b)},debounce:function(a,
b,c){var e=this,d=arguments,n;return function(){var z=e,N=d;n?clearTimeout(n):c&&a.apply(z,N);n=setTimeout(function(){c||a.apply(z,N);n=null},b||100)}},isElementInView:function(a,b,c,e){var d=this,n=arguments,z=c||window,N=z.offsetHeight||z.innerHeight,wa=z.scrollTop||z.pageYOffset,xa=e?a.offsetHeight/e:a.offsetHeight;return function(){var c=d,e=n;N+wa>=a.offsetTop+xa&&b.apply(c,e)}},disableFocusOnMouseMove:function(){document.addEventListener("keyup",function(a){a=a.which||a.keyCode;h.classList.contains(g.FOCUS)||
a!==f.TAB&&a!==f.ARROW_LEFT&&a!==f.ARROW_RIGHT||h.classList.add(g.FOCUS)});document.addEventListener("mousemove",function(){h.classList.contains(g.FOCUS)&&h.classList.remove(g.FOCUS)})}};var aa={},l={ACCORDION_BTNS:"yt-accordion-btn",ACCORDION_CONTENT:"yt-accordion-content"},ba={ACCORDION:".js-yt-accordion",ACCORDION_BTNS:"["+l.ACCORDION_BTNS+"]"},m={ACTIVE_BTN:"accordion__button--active",ACTIVE_ACCORDION_CONTENT:"accordion__content--active"};function p(a){this.accordion_=a}p.prototype.onInit_=function(){this.registerEvents_()};
p.prototype.toggleContent_=function(a){var b=a.getAttribute(l.ACCORDION_BTNS),b=this.accordion_.querySelector("["+l.ACCORDION_CONTENT+"='"+b+"']");a.classList.contains(m.ACTIVE_BTN)?(a.classList.remove(m.ACTIVE_BTN),b.classList.remove(m.ACTIVE_ACCORDION_CONTENT)):(a.classList.add(m.ACTIVE_BTN),b.classList.add(m.ACTIVE_ACCORDION_CONTENT))};p.prototype.registerEvents_=function(){k.delegate(this.accordion_,ba.ACCORDION_BTNS,"click",this.toggleContent_.bind(this))};
aa.init=function(){var a=document.querySelectorAll(ba.ACCORDION);if(a.length)for(var b=0;b<a.length;b++)(new p(a[b])).onInit_()};var ca={},q={DISPLAY_NAME:".js-yt-display-name",PROFILE_IMG:".js-yt-profile-img",SIGN_OUT_BTN_:".js-yt-sign-out-btn"};function r(){this.$firebase_=window.firebase;this.$provider_=new this.$firebase_.auth.GoogleAuthProvider;this.$auth_=this.$firebase_.auth();this.user_={}}r.prototype.onInit_=function(){this.$provider_.addScope("https://www.googleapis.com/auth/youtube.readonly");this.$auth_.languageCode=document.documentElement.lang;this.checkLoginStatus_();this.registerEvents_()};
r.prototype.checkLoginStatus_=function(){var a=this;this.$auth_.onAuthStateChanged(function(b){b?(a.user_.displayName=b.displayName,a.user_.email=b.email,a.user_.photoURL=b.photoURL+"?sz=100",a.user_.uid=b.uid,a.user_.subscribers={},a.$ref_=a.$firebase_.database().ref(a.user_.uid),a.setProfileDisplay_(),a.checkIfWhitelisted_()):a.signIn_()})};
r.prototype.setProfileDisplay_=function(){var a=document.querySelector(q.PROFILE_IMG),b=document.querySelector(q.DISPLAY_NAME);a.style.backgroundImage="url("+this.user_.photoURL+")";b.innerText=this.user_.displayName};
r.prototype.checkIfWhitelisted_=function(){var a=this;this.$ref_.once("value").then(function(b){b.val()?a.$ref_.update({displayName:a.user_.displayName,email:a.user_.email,photoURL:a.user_.photoURL}).then(function(){b.val().subscribers?(a.user_.subscribers.count=b.val().subscribers.count,a.user_.subscribers.timestamp=b.val().subscribers.timestamp,a.checkSubscriberCount_(b.val().accessToken)):a.checkForAccessToken_(b.val().accessToken)}):console.log("You shall not pass!")})};
r.prototype.checkSubscriberCount_=function(a){36E5>Date.now()-this.user_.subscribers.timestamp?console.log("Subscriber count: "+this.user_.subscribers.count):this.checkForAccessToken_(a)};r.prototype.checkForAccessToken_=function(a){a?this.requestChannelData_(a):this.getAccessToken_()};
r.prototype.getAccessToken_=function(){var a=this;this.$auth_.getRedirectResult().then(function(b){b.credential?a.$ref_.update({accessToken:b.credential.accessToken}).then(function(){a.requestChannelData_(b.credential.accessToken)}):a.signIn_()})};r.prototype.refreshAccessToken_=function(){var a=this;this.$ref_.once("value").then(function(){a.$ref_.update({accessToken:null}).then(function(){a.signIn_()})})};
r.prototype.requestChannelData_=function(a){var b=this,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==c.readyState&&200==c.status){var a=JSON.parse(c.responseText),d=a.items[0].statistics.subscriberCount,n={count:d,timestamp:Date.now()};b.$ref_.update({subscribers:n}).then(function(){b.user_.subscribers.count=d;console.log(a)})}else 403==c.status?console.log(c.responseText):401==c.status&&b.refreshAccessToken_()};c.open("GET","https://www.googleapis.com/youtube/v3/channels?key=AIzaSyAllLmILW-i3sTeTeiM0He6HgwbKJ4TXbY&part=statistics&mine=true&access_token="+
a,!0);c.send()};r.prototype.signIn_=function(){this.$auth_.signInWithRedirect(this.$provider_)};r.prototype.signOut_=function(){var a=this;this.$auth_.signOut().then(function(){var b=a.generateRedirectPath_("/yt/creators/awards/");window.location.replace(b)})};r.prototype.generateRedirectPath_=function(a){return"en"!=this.$auth_.languageCode?"/intl/"+this.$auth_.languageCode+a:a};
r.prototype.registerEvents_=function(){k.delegate(document,q.SIGN_OUT_BTN_,"click",this.signOut_.bind(this));k.delegate(document,q.SIGN_OUT_BTN_,"touchend",this.signOut_.bind(this))};ca.init=function(){(new r).onInit_()};var da={},ea={PROFILE_IMG:".js-yt-profile-img"};function t(){}t.prototype.onInit_=function(){ca.init()};t.prototype.registerEvents_=function(){};da.init=function(){if(document.querySelector(ea.PROFILE_IMG))(new t).onInit_()};var fa={},u={BLOGS:"yt-blog-id",BLOG_NAMES:"yt-blog-name",MODAL_BLOGS:"yt-blog-modal-id"},v={BLOGS:"["+u.BLOGS+"]",BLOG_NAMES:"["+u.BLOG_NAMES+"]",COPY:"[yt-blog-copy]",DATE:"[yt-blog-date]",MODAL_BLOGS:"["+u.MODAL_BLOGS+"]",MODAL_COPY:"[yt-blog-modal-copy]",MODAL_DATE:"[yt-blog-modal-date]",MODAL_POST_TITLE:"[yt-blog-modal-post-title]",POST_TITLE:"[yt-blog-post-title]",READ_MORE_TEXT:"[yt-read-more]"};
function w(a){this.blogEl_=a;this.blogId_=this.blogEl_.getAttribute(u.BLOGS);this.blogName_=this.blogEl_.getAttribute(u.BLOG_NAMES);this.modalBlogEl_=document.querySelector("["+u.MODAL_BLOGS+"='"+this.blogId_+"']");this.dateEl_=this.blogEl_.querySelector(v.DATE);this.modalDateEl_=this.modalBlogEl_.querySelector(v.MODAL_DATE);this.postTitleEl_=this.blogEl_.querySelector(v.POST_TITLE);this.modalPostTitleEl_=this.modalBlogEl_.querySelector(v.MODAL_POST_TITLE);this.copyEl_=this.blogEl_.querySelector(v.COPY);
this.modalCopyEl_=this.modalBlogEl_.querySelector(v.MODAL_COPY);this.readMoreText_=this.blogEl_.querySelector(v.READ_MORE_TEXT).innerText;this.$ref_=window.firebase.database().ref("blogs")}w.prototype.onInit_=function(){this.checkStoredBlogs_()};
w.prototype.checkStoredBlogs_=function(){var a=this,b=this.getRequestUrl_(this.blogId_);this.$ref_.once("value").then(function(c){if(0<c.numChildren()){var e=!1,d=0;c.forEach(function(n){e||n.val().name!=a.blogName_||(18E5>Date.now()-n.val().timestamp?(e=!0,d++,a.postTitle_=n.val().postTitle,a.date_=n.val().date,a.copy_=n.val().copy,a.fillInDetails_()):(n.ref.remove(),a.getBlogPosts_(b)));e||d!=c.forEach.length||a.getBlogPosts_(b)})}else a.getBlogPosts_(b)})};
w.prototype.getSubstring_=function(a,b){var c=a.substring(0,b);" "==c[c.length-1]&&--b;return a.substring(0,b)+"... "+this.readMoreText_};w.prototype.getRequestUrl_=function(a){return"https://www.googleapis.com/blogger/v3/blogs/"+a+"/posts?key=AIzaSyAllLmILW-i3sTeTeiM0He6HgwbKJ4TXbY&maxResults=1"};
w.prototype.getBlogPosts_=function(a){var b=this,c=new XMLHttpRequest;c.onreadystatechange=function(){if(4==c.readyState&&200==c.status){var a=JSON.parse(c.responseText);b.postTitle_=a.items[0].title;b.date_=a.items[0].published;b.copy_=a.items[0].content;a={name:b.blogName_,postTitle:b.postTitle_,date:b.date_,copy:b.copy_,timestamp:Date.now()};b.$ref_.push(a).then(function(){b.fillInDetails_()})}};c.open("GET",a,!0);c.send()};
w.prototype.fillInDetails_=function(){this.postTitleEl_.textContent=this.postTitle_;this.modalPostTitleEl_.textContent=this.postTitle_;this.dateEl_.textContent=(new Date(this.date_)).toDateString();this.modalDateEl_.textContent=(new Date(this.date_)).toDateString();var a=document.createElement("span"),b=document.createElement("span"),c=document.createRange().createContextualFragment(this.getSubstring_(this.copy_,1E3)),e=document.createRange().createContextualFragment(this.copy_);a.appendChild(c);
b.appendChild(e);this.copyEl_.appendChild(a);this.modalCopyEl_.appendChild(b)};fa.init=function(){var a=document.querySelectorAll(v.BLOGS);if(a.length)for(var b=0;b<a.length;b++)(new w(a[b])).onInit_()};var ga={},x={NEXT:"next",PREV:"prev"},y={FADE:"fade",SLIDE:"slide"},A={HORIZONTAL:"horizontal",VERTICAL:"vertical"},ha={HORIZONTAL:"X",VERTICAL:"Y"},B={BTNS:"yt-carousel-btn",ITEM_WRAPPER_INDEX:"yt-carousel-items-index",OPTION_ANIMATION:"yt-carousel-animation",OPTION_AUTO:"yt-carousel-auto",OPTION_BUTTONS:"yt-carousel-buttons",OPTION_DIRECTION:"yt-carousel-direction",OPTION_MAX_VISIBLE_ITEMS:"yt-carousel-max-visible-items",OPTION_RADIOS:"yt-carousel-radios",RADIOS:"yt-carousel-radio"},C={CAROUSELS:".js-carousel",
INNER_WRAPPER:".js-carousel-inner",ITEMS:".js-carousel-item",ITEM_WRAPPERS:".js-carousel-items",NEXT_BTN:"["+B.BTNS+"="+x.NEXT+"]",PREV_BTN:"["+B.BTNS+"="+x.PREV+"]",RADIOS:"["+B.RADIOS+"]",SLIDER:".js-carousel-slider"},D={ACTIVE_ITEM_WRAPPER:"carousel__items--active",ACTIVE_RADIO_BTN:"carousel__radio--active"};
function E(a){this.carousel_=a;this.slider_=this.carousel_.querySelector(C.SLIDER);this.options_={animation:this.getOption_(B.OPTION_ANIMATION)||y.SLIDE,auto:"True"==this.getOption_(B.OPTION_AUTO),direction:this.getOption_(B.OPTION_DIRECTION)||A.HORIZONTAL,max_visible_items:parseInt(this.getOption_(B.OPTION_MAX_VISIBLE_ITEMS)||1,10)};this.innerWrapper_=this.carousel_.querySelector(C.INNER_WRAPPER);this.itemWrappers_=this.carousel_.querySelectorAll(C.ITEM_WRAPPERS);this.visibleItemWrapperIndex_=0;
this.items_=this.carousel_.querySelectorAll(C.ITEMS);this.slideUnit_=100/this.itemWrappers_.length;this.nextBtn_=this.carousel_.querySelector(C.NEXT_BTN);this.prevBtn_=this.carousel_.querySelector(C.PREV_BTN);this.radioBtns_=this.carousel_.querySelectorAll(C.RADIOS);this.isSmallWindow_=600>=window.innerWidth}E.prototype.onInit_=function(){var a=this;this.setElementDimensions_();this.radioBtns_.length&&this.setActiveRadio_();this.options_.auto&&setInterval(function(){a.transition_()},6E3);this.registerEvents_()};
E.prototype.getOption_=function(a){return this.carousel_.getAttribute(a)};E.prototype.getSliderWidth_=function(){return this.options_.animation==y.FADE?"100%":100*this.itemWrappers_.length+"%"};E.prototype.getItemWrapperWidth_=function(){return this.options_.animation==y.FADE?"100%":this.slideUnit_+"%"};E.prototype.getItemWidth_=function(){return this.isSmallWindow_&&1<this.options_.max_visible_items?"50%":100/this.options_.max_visible_items+"%"};
E.prototype.getInnerWrapperHeight_=function(a){return this.itemWrappers_[a||0].offsetHeight+"px"};E.prototype.getHorizontalTranslateDistance_=function(){return"rtl"==document.documentElement.dir?this.slideUnit_*this.visibleItemWrapperIndex_+"%":"-"+this.slideUnit_*this.visibleItemWrapperIndex_+"%"};
E.prototype.getVerticalTranlateDistance_=function(){var a=this.getInnerWrapperHeight_(this.visibleItemWrapperIndex_),b=0;this.setInnerWrapperHeight_(a);for(a=0;a<this.itemWrappers_.length;a++)if(a<this.visibleItemWrapperIndex_)b+=this.itemWrappers_[a].offsetHeight;else break;return"-"+b+"px"};E.prototype.setSliderWidth_=function(){this.slider_.style.width=this.getSliderWidth_()};
E.prototype.setItemWrapperWidths_=function(){for(var a=0;a<this.itemWrappers_.length;a++)this.itemWrappers_[a].style.width=this.getItemWrapperWidth_()};E.prototype.setItemWidths_=function(){for(var a=0;a<this.items_.length;a++)this.items_[a].style.width=this.getItemWidth_()};E.prototype.setInnerWrapperHeight_=function(a){this.innerWrapper_.style.height=a};
E.prototype.setElementDimensions_=function(){this.setItemWidths_();this.options_.direction==A.HORIZONTAL?(this.setSliderWidth_(),this.setItemWrapperWidths_()):this.options_.direction==A.VERTICAL&&this.setInnerWrapperHeight_(this.getInnerWrapperHeight_())};E.prototype.setIndexForNextItemWrapper_=function(){this.visibleItemWrapperIndex_!=this.itemWrappers_.length-1?this.visibleItemWrapperIndex_++:this.visibleItemWrapperIndex_=0};
E.prototype.setIndexForPreviousItemWrapper_=function(){0!=this.visibleItemWrapperIndex_?this.visibleItemWrapperIndex_--:this.visibleItemWrapperIndex_=this.itemWrappers_.length-1};
E.prototype.setTransitionStyles_=function(){var a=ha[this.options_.direction.toUpperCase()],b=0;this.options_.direction==A.HORIZONTAL?b=this.getHorizontalTranslateDistance_():this.options_.direction==A.VERTICAL&&(b=this.getVerticalTranlateDistance_());this.options_.animation==y.FADE?this.setUpItemWapperForFadeIn_():this.slider_.style.transform="translate"+a+"("+b+")";this.radioBtns_.length&&this.setActiveRadio_(this.visibleItemWrapperIndex_)};
E.prototype.setUpItemWapperForFadeIn_=function(){for(var a=this.carousel_.querySelector("["+B.ITEM_WRAPPER_INDEX+"='"+this.visibleItemWrapperIndex_*this.options_.max_visible_items+"']"),b=0;b<this.itemWrappers_.length;b++)this.itemWrappers_[b].classList.remove(D.ACTIVE_ITEM_WRAPPER);a.classList.add(D.ACTIVE_ITEM_WRAPPER)};
E.prototype.setActiveRadio_=function(a){a=this.carousel_.querySelector("["+B.RADIOS+"='"+(a||0)+"']");for(var b=0;b<this.radioBtns_.length;b++)this.radioBtns_[b].classList.remove(D.ACTIVE_RADIO_BTN);a.classList.add(D.ACTIVE_RADIO_BTN)};
E.prototype.transition_=function(a){var b=x.NEXT;if(a)for(var b=a.getAttribute(B.BTNS),c=0;c<this.radioBtns_.length;c++)if(this.radioBtns_[c]==a){this.visibleItemWrapperIndex_=a.getAttribute(B.RADIOS);break}b&&b==x.NEXT?this.setIndexForNextItemWrapper_():b&&b==x.PREV&&this.setIndexForPreviousItemWrapper_();this.setTransitionStyles_()};E.prototype.handleWindowResize_=function(){this.isSmallWindow_=600>=window.innerWidth;this.setElementDimensions_();this.options_.direction==A.VERTICAL&&this.setTransitionStyles_()};
E.prototype.registerEvents_=function(){var a=this;this.nextBtn_&&this.prevBtn_&&(k.delegate(this.carousel_,C.NEXT_BTN,"click",this.transition_.bind(this)),k.delegate(this.carousel_,C.PREV_BTN,"click",this.transition_.bind(this)));this.radioBtns_.length&&k.delegate(this.carousel_,C.RADIOS,"click",this.transition_.bind(this));window.addEventListener("resize",function(){k.debounce(a.handleWindowResize_.bind(a),300)()})};
ga.init=function(){var a=document.querySelectorAll(C.CAROUSELS);if(a)for(var b=0;b<a.length;b++)(new E(a[b])).onInit_()};window.load=function(){window.help={};window.help.api={};window.help.startHelp={};window.YT={};window.YT.Player={};window.YT.PlayerState={};window.YT.PlayerState.PLAYING=1;window.firebase={};window.smoothScroll={}};var ia={},ja={BTNS:"yt-help-widget"},F={BTNS:"["+ja.BTNS+"]"},ka={helpCenterPath:"/youtube",locale:document.documentElement.lang},G={},la=document.querySelector(".js-yt-header");function ma(a){G.anchor=la.querySelector(F.BTNS);G.context=a.getAttribute(ja.BTNS)||"yt_brandstudio_default_context";var b=window.help.api.create("59",ka);k.delegate(document,F.BTNS,"click",function(){b.startHelp(G)});k.delegate(document,F.BTNS,"touchend",function(){b.startHelp(G)})}
ia.init=function(){var a=document.querySelectorAll(F.BTNS);if(a)for(var b=0;b<a.length;b++)0==b&&new ma(a[b])};var na={},H={MODAL_CONTENT:"yt-modal-content",MODAL_TRIGGERS:"yt-modal-trigger"},I={HIDE_MODAL:".js-yt-hide-modal",MODAL:".js-yt-modal",MODAL_CONTENT:"["+H.MODAL_CONTENT+"]",MODAL_TRIGGERS:"["+H.MODAL_TRIGGERS+"]"},J={ACTIVE_MODAL:"modal--active",ACTIVE_MODAL_CONTENT:"modal__content--active",NO_SCROLL:"no-scroll"};function K(a){this.modal_=a;this.allContent_=this.modal_.querySelectorAll(I.MODAL_CONTENT)}K.prototype.onInit_=function(){this.registerEvents_()};
K.prototype.showModal_=function(a){a=a.getAttribute(H.MODAL_TRIGGERS);a=this.modal_.querySelector("["+H.MODAL_CONTENT+"='"+a+"']");this.modal_.classList.add(J.ACTIVE_MODAL);a.classList.add(J.ACTIVE_MODAL_CONTENT);document.documentElement.classList.add(J.NO_SCROLL)};K.prototype.hideModal_=function(){this.modal_.classList.remove(J.ACTIVE_MODAL);document.documentElement.classList.remove(J.NO_SCROLL);for(var a=0;a<this.allContent_.length;a++)this.allContent_[a].classList.remove(J.ACTIVE_MODAL_CONTENT)};
K.prototype.registerEvents_=function(){k.delegate(document,I.MODAL_TRIGGERS,"click",this.showModal_.bind(this));k.delegate(document,I.HIDE_MODAL,"click",this.hideModal_.bind(this));k.delegate(document,I.HIDE_MODAL,"touchend",this.hideModal_.bind(this))};na.init=function(){var a=document.querySelector(I.MODAL);if(a)(new K(a)).onInit_()};var oa={},L={CAROUSEL:"[yt-carousel-type='twitter']",DATE_ELS:".js-yt-post-date",IMG_ELS:".js-yt-post-img",TEXT_ELS:".js-yt-post-text"},pa={HASHTAG:/(&)?#(\w+)/g,LINK:/https:\/\/t.co\/?(\w+)/g,USER:/@(\w+)/g},qa={HASHTAG:'<a href="https://twitter.com/hashtag/$2" target="_blank">#$2</a>',LINK:'<a href="https://t.co/$1" target="_blank">https://t.co/$1</a>',USER:'<a href="https://twitter.com/$1" rel="nofollow"target="_blank">@$1</a>'};
function M(a){this.carousel_=a;this.dateEls_=this.carousel_.querySelectorAll(L.DATE_ELS);this.imgEls_=this.carousel_.querySelectorAll(L.IMG_ELS);this.textEls_=this.carousel_.querySelectorAll(L.TEXT_ELS)}M.prototype.onInit_=function(){this.getPosts_()};
M.prototype.getPosts_=function(){var a=this,b=new XMLHttpRequest;b.onreadystatechange=function(){if(4==b.readyState&&200==b.status)for(var c=b.responseText.substring(6,b.responseText.length),c=JSON.parse(c).feeds[0].posts,e=0,d=0;d<c.length&&(a.fillInDetails_(c[d],e),e++,4!=e);d++);};b.open("GET","https://www.gstatic.com/google_social_feeds/yt_creators/en_us.json",!0);b.send()};
M.prototype.fillInDetails_=function(a,b){var c=new Date(parseInt(a.created_at,10)),e=document.createElement("span"),d=document.createRange().createContextualFragment(this.parseContent_(a.content));e.appendChild(d);d="/yt/creators/static/images/twitter-placeholder.svg";a.media.images&&(d=a.media.images[0].url);this.textEls_[b].appendChild(e);this.dateEls_[b].innerText=c.toDateString();this.imgEls_[b].href=a.url;this.imgEls_[b].style.backgroundImage="url("+d+")"};
M.prototype.parseContent_=function(a){return a.replace(pa.USER,qa.USER).replace(pa.LINK,qa.LINK).replace(pa.HASHTAG,qa.HASHTAG)};oa.init=function(){var a=document.querySelector(L.CAROUSEL);if(a)(new M(a)).onInit_()};var ra={},O={DESCRIPTION:"yt-player-description",PLAYERS:"yt-player",PUB_TITLE_DATE:"yt-player-title-date",TITLE:"yt-player-title",VIDEO_ID:"yt-player-video-id"},sa={PAUSE_BTNS:".js-pause-video",PLAYERS:"["+O.PLAYERS+"]"};
function P(a){this.playerEl_=a;this.channelId_=this.playerEl_.getAttribute(O.PLAYERS);this.titleEL_=document.querySelector("["+O.TITLE+"='"+this.channelId_+"']");this.descriptionEL_=document.querySelector("["+O.DESCRIPTION+"='"+this.channelId_+"']");this.pubTitleDateEl_=document.querySelector("["+O.PUB_TITLE_DATE+"='"+this.channelId_+"']");this.$ref_=window.firebase.database().ref("yt-channels")}P.prototype.onInit_=function(){this.checkStoredChannels_()};
P.prototype.checkStoredChannels_=function(){var a=this;this.$ref_.once("value").then(function(b){if(0<b.numChildren()){var c=!1,e=0;b.forEach(function(d){c||d.val().channelId!=a.channelId_||(36E5>Date.now()-d.val().timestamp?(c=!0,e++,a.channelTitle_=d.val().channelTitle,a.description_=d.val().description,a.videoId_=d.val().videoId,a.videoTitle_=d.val().videoTitle,a.pubDate_=d.val().pubDate,a.fillInDetails_(),a.loadVideo_()):(d.ref.remove(),a.requestChannelData_()));c||e!=b.forEach.length||a.requestChannelData_()})}else a.requestChannelData_()})};
P.prototype.requestChannelData_=function(){var a=this,b=new XMLHttpRequest;b.onreadystatechange=function(){if(4==b.readyState&&200==b.status){var c=JSON.parse(b.responseText),e=c.items[0].snippet,d=c.items[0].contentDetails;c.items.length&&(a.channelTitle_=e.channelTitle,a.description_=e.description,a.videoId_=d.upload?d.upload.videoId:d.playlistItem.resourceId.videoId,a.videoTitle_=e.title,a.pubDate_=e.publishedAt,c={channelId:a.channelId_,channelTitle:a.channelTitle_,description:a.description_,
videoId:a.videoId_,videoTitle:a.videoTitle_,pubDate:a.pubDate_,timestamp:Date.now()},a.$ref_.push(c).then(function(){a.fillInDetails_();a.loadVideo_()}))}};b.open("GET","https://www.googleapis.com/youtube/v3/activities?key=AIzaSyAllLmILW-i3sTeTeiM0He6HgwbKJ4TXbY&part=snippet,contentDetails&maxResults=1&channelId="+this.channelId_,!0);b.send()};P.prototype.getSubstring=function(a,b){if(a.length>=b){var c=a.substring(0,b);" "==c[c.length-1]&&--b;return a.substring(0,b)+"..."}return a.substring(0,b)};
P.prototype.fillInDetails_=function(){var a=document.createElement("span"),b=document.createTextNode((new Date(this.pubDate_)).toDateString());a.classList.add("no-break");a.appendChild(b);this.titleEL_.innerText=this.getSubstring(this.videoTitle_,50);this.descriptionEL_.innerText=this.getSubstring(this.description_,150);this.pubTitleDateEl_.innerText=this.channelTitle_+" \u2022 ";this.pubTitleDateEl_.appendChild(a)};
P.prototype.loadVideo_=function(){this.player_=new window.YT.Player(this.playerEl_,{height:"100",width:"100",videoId:this.videoId_,events:{onReady:this.registerEvents_.bind(this)},playerVars:{rel:0}})};P.prototype.pauseVideo_=function(){this.player_.getPlayerState()==window.YT.PlayerState.PLAYING&&this.player_.pauseVideo()};P.prototype.registerEvents_=function(){k.delegate(document,sa.PAUSE_BTNS,"click",this.pauseVideo_.bind(this));k.delegate(document,sa.PAUSE_BTNS,"touchend",this.pauseVideo_.bind(this))};
ra.init=function(){var a=document.querySelectorAll(sa.PLAYERS);if(a.length)for(var b=0;b<a.length;b++)(new P(a[b])).onInit_()};var ta={},Q={DESKTOP_SUBNAV:"yt-desktop-subnav",DESKTOP_SUBNAV_TOGGLE:"yt-desktop-subnav-toggle",SUBNAV:"yt-subnav",SUBNAV_TOGGLE:"yt-subnav-toggle"},R={HEADER:".js-yt-header",DESKTOP_SUBNAV:"["+Q.DESKTOP_SUBNAV+"]",DESKTOP_SUBNAV_TOGGLE:"["+Q.DESKTOP_SUBNAV_TOGGLE+"]",MENU:".js-yt-header-menu",MENU_TOGGLE:".js-yt-header-menu-toggle",PROFILE_TOGGLE:"[yt-profile-toggle]",PROFILE_OPTIONS:".js-yt-profile-options",PROFILE_OVERLAY:".js-yt-profile-overlay",SUBNAV:"["+Q.SUBNAV+"]",SUBNAV_TOGGLE:"["+Q.SUBNAV_TOGGLE+
"]"},S={ACTIVE_MENU:"yt-header__menu--active",ACTIVE_MENU_TOOGLE:"yt-header__cta--active",ACTIVE_SUBNAV:"yt-header__subnav--active",ACTIVE_SUBNAV_TOOGLE:"yt-header__subnav-toggle--active",HIDE:"yt-hide",NO_SCROLL:"no-scroll"},ua=document.querySelectorAll(R.MENU_TOGGLE);
function T(){this.header_=document.querySelector(R.HEADER);this.menu_=document.querySelector(R.MENU);this.desktopSubnavs_=document.querySelectorAll(R.DESKTOP_SUBNAV);this.subnavs_=document.querySelectorAll(R.SUBNAV);this.subnavToggles_=document.querySelectorAll(R.SUBNAV_TOGGLE);this.profileImg_=document.querySelector(R.PROFILE_IMG);this.profileOptions_=document.querySelector(R.PROFILE_OPTIONS);this.profileOverlay_=document.querySelector(R.PROFILE_OVERLAY)}T.prototype.onInit_=function(){this.registerEvents_()};
T.prototype.addActiveClassName_=function(a,b){a.classList.add(b);a.setAttribute("aria-hidden",!1)};T.prototype.removeActiveClassName_=function(a,b){a.classList.remove(b);a.setAttribute("aria-hidden",!0)};
T.prototype.hideSubnavs_=function(){for(var a=0;a<this.subnavToggles_.length;a++)this.subnavToggles_[a].classList.remove(S.ACTIVE_SUBNAV_TOOGLE);for(a=0;a<this.subnavs_.length;a++)this.removeActiveClassName_(this.subnavs_[a],S.ACTIVE_SUBNAV),this.desktopSubnavs_[a]&&this.removeActiveClassName_(this.desktopSubnavs_[a],S.ACTIVE_SUBNAV)};
T.prototype.getSubnav_=function(a){var b=a.getAttribute(Q.SUBNAV_TOGGLE)||a.getAttribute(Q.DESKTOP_SUBNAV_TOGGLE)||a.getAttribute(Q.DESKTOP_SUBNAV),c=Q.SUBNAV;a.getAttribute(Q.SUBNAV_TOGGLE)||(c=Q.DESKTOP_SUBNAV);return this.header_.querySelector("["+c+"='"+b+"']")};
T.prototype.toggleMenu_=function(a){a.classList.contains(S.ACTIVE_MENU_TOOGLE)?(a.classList.remove(S.ACTIVE_MENU_TOOGLE),this.removeActiveClassName_(this.menu_,S.ACTIVE_MENU),document.documentElement.classList.remove(S.NO_SCROLL),this.hideSubnavs_()):(a.classList.add(S.ACTIVE_MENU_TOOGLE),this.addActiveClassName_(this.menu_,S.ACTIVE_MENU),document.documentElement.classList.add(S.NO_SCROLL))};
T.prototype.toggleSubnav_=function(a){a.classList.contains(S.ACTIVE_SUBNAV_TOOGLE)?this.hideSubnavs_():(this.hideSubnavs_(),this.addActiveClassName_(this.getSubnav_(a),S.ACTIVE_SUBNAV),a.classList.add(S.ACTIVE_SUBNAV_TOOGLE))};T.prototype.toggleDesktopSubnav_=function(a){this.hideSubnavs_();this.addActiveClassName_(this.getSubnav_(a),S.ACTIVE_SUBNAV)};
T.prototype.toggleProfileOptions_=function(){this.profileOptions_.classList.contains(S.HIDE)?(this.profileOptions_.classList.remove(S.HIDE),this.profileOverlay_.classList.remove(S.HIDE)):(this.profileOptions_.classList.add(S.HIDE),this.profileOverlay_.classList.add(S.HIDE))};
T.prototype.handleWindowResize_=function(){if(1200<=window.innerWidth){for(var a=0;a<ua.length;a++)ua[a].classList.remove(S.ACTIVE_MENU_TOOGLE);document.documentElement.classList.remove(S.NO_SCROLL);this.removeActiveClassName_(this.menu_,S.ACTIVE_MENU);this.hideSubnavs_()}};
T.prototype.registerEvents_=function(){k.delegate(document,R.SUBNAV_TOGGLE,"click",this.toggleSubnav_.bind(this));k.delegate(document,R.MENU_TOGGLE,"click",this.toggleMenu_.bind(this));k.delegate(document,R.PROFILE_TOGGLE,"click",this.toggleProfileOptions_.bind(this));k.delegate(this.header_,R.DESKTOP_SUBNAV_TOGGLE,"mouseover",this.toggleDesktopSubnav_.bind(this));k.delegate(this.header_,R.DESKTOP_SUBNAV_TOGGLE,"mouseout",this.hideSubnavs_.bind(this));k.delegate(this.header_,R.DESKTOP_SUBNAV,"mouseover",
this.toggleDesktopSubnav_.bind(this));k.delegate(this.header_,R.DESKTOP_SUBNAV,"mouseout",this.hideSubnavs_.bind(this));k.delegate(this.header_,R.DESKTOP_SUBNAV_TOGGLE,"keyup",this.toggleDesktopSubnav_.bind(this));window.addEventListener("resize",this.handleWindowResize_.bind(this))};ta.init=function(){(new T).onInit_()};var va={},U={ASSESSMENT:"yt-nextup-assessment",NOT_ELIGIBLE_HEADLINES:"yt-nextup-not-eligible-headline",RULES:"yt-nextup-rules",RULES_ISSUE:"yt-nextup-rules-issue",RULES_ISSUE_TRIGGERS:"yt-nextup-rules-issue-trigger"},V={ASSESSMENT:"["+U.ASSESSMENT+"]",HIDE_MODAL:".js-yt-hide-modal",IS_ELIGIBLE:".js-yt-nextup-quiz-is-eligible",NOT_ELIGIBLE:".js-yt-nextup-quiz-not-eligible",NOT_ELIGIBLE_HEADLINES:"["+U.NOT_ELIGIBLE_HEADLINES+"]",QA_GROUP:".js-yt-nextup-quiz-qa-group",QUIZ:".js-yt-nextup-quiz",REGISTRATION_LINK:".js-yt-nextup-registration-link",
RULES:"["+U.RULES+"]",RULES_CHECKBOX:"input[type='checkbox']",RULES_ISSUE:"["+U.RULES_ISSUE+"]",RULES_ISSUES:".js-yt-nextup-rules-issues",RULES_ISSUE_TRIGGERS:"["+U.RULES_ISSUE_TRIGGERS+"]",RULES_PDF_BTN:".js-yt-nextup-rules-pdf-btn",STEP_TRACKER:".js-yt-nextup-quiz-step-tracker",STEP_TRACKER_WRAPPER:".js-yt-nextup-quiz-step-trackers",TODOS:".js-yt-nextup-quiz-todo",TODO_WRAPPER:".js-yt-nextup-quiz-todos"},W={ACTIVE_REGISTRATION_LINK:"nextup-registration__registration-link--active",ACTIVE_STEP_TRACKER:"nextup-quiz__step--active",
HIDE:"yt-hide"};
function X(a){this.quiz_=a;this.qaGroups_=this.quiz_.querySelectorAll(V.QA_GROUP);this.stepTrackerWrapper_=this.quiz_.querySelector(V.STEP_TRACKER_WRAPPER);this.stepTrackers_=this.quiz_.querySelectorAll(V.STEP_TRACKER);this.notEligible_=this.quiz_.querySelector(V.NOT_ELIGIBLE);this.notEligibleHeadlines_=this.quiz_.querySelectorAll(V.NOT_ELIGIBLE_HEADLINES);this.todoWrapper_=this.quiz_.querySelector(V.TODO_WRAPPER);this.todos_=this.quiz_.querySelectorAll(V.TODOS);this.isEligibleWrapper_=this.quiz_.querySelector(V.IS_ELIGIBLE);
this.assessments_=[];this.quizTracker_=0}X.prototype.onInit_=function(){this.showActiveQAGroup_();this.registerEvents_()};X.prototype.hideQAGroups_=function(){for(var a=0;a<this.qaGroups_.length;a++)this.qaGroups_[a].classList.add(W.HIDE),this.stepTrackers_[a].classList.remove(W.ACTIVE_STEP_TRACKER)};
X.prototype.resetQuiz_=function(){for(var a=0;a<this.todos_.length;a++)this.todos_[a].classList.add(W.HIDE);for(a=0;a<this.notEligibleHeadlines_.length;a++)this.notEligibleHeadlines_[a].classList.add(W.HIDE);this.quizTracker_=0;this.assessments_=[];this.stepTrackerWrapper_.classList.remove(W.HIDE);this.notEligible_.classList.add(W.HIDE);this.todoWrapper_.classList.add(W.HIDE);this.isEligibleWrapper_.classList.add(W.HIDE);this.hideQAGroups_();this.showActiveQAGroup_()};
X.prototype.showActiveQAGroup_=function(){this.hideQAGroups_();this.qaGroups_[this.quizTracker_].classList.remove(W.HIDE);this.stepTrackers_[this.quizTracker_].classList.add(W.ACTIVE_STEP_TRACKER)};
X.prototype.assessAnswers_=function(a){var b=a.getAttribute(U.ASSESSMENT);if(0==b)a=this.quiz_.querySelector("["+U.NOT_ELIGIBLE_HEADLINES+"='"+a.innerText+"']"),this.hideQAGroups_(),this.stepTrackerWrapper_.classList.add(W.HIDE),a.classList.remove(W.HIDE),this.notEligible_.classList.remove(W.HIDE);else if(this.quizTracker_<this.qaGroups_.length-1)this.quizTracker_++,"Yes"!=b&&"No"!=b||this.assessments_.push("Yes"==b),this.showActiveQAGroup_();else{this.assessments_.push("Yes"==b);for(a=0;a<this.assessments_.length;a++)if(!this.assessments_[a]){this.showTodos_();
return}this.showIsEligible_()}};X.prototype.showTodos_=function(){this.hideQAGroups_();this.stepTrackerWrapper_.classList.add(W.HIDE);this.todoWrapper_.classList.remove(W.HIDE);for(var a=0;a<this.todos_.length;a++)this.assessments_[a]||this.todos_[a].classList.remove(W.HIDE)};X.prototype.showIsEligible_=function(){this.hideQAGroups_();this.stepTrackerWrapper_.classList.add(W.HIDE);this.isEligibleWrapper_.classList.remove(W.HIDE)};
X.prototype.registerEvents_=function(){k.delegate(this.quiz_,V.ASSESSMENT,"click",this.assessAnswers_.bind(this));k.delegate(document,V.HIDE_MODAL,"click",this.resetQuiz_.bind(this))};function Y(a){this.rules_=a;this.issuesList_=this.rules_.querySelector(V.RULES_ISSUES);this.checkbox_=this.rules_.querySelector(V.RULES_CHECKBOX);this.checkboxIsChecked_=this.checkbox_.checked;this.pdfBtnClicked_=!1;this.registrationLink_=this.rules_.querySelector(V.REGISTRATION_LINK)}Y.prototype.onInit_=function(){this.registerEvents_()};
Y.prototype.toggleIssueItems_=function(a){var b=a.getAttribute(U.RULES_ISSUE_TRIGGERS),b=this.rules_.querySelector("["+U.RULES_ISSUE+"='"+b+"']");"checkbox"==a.type?(b.classList.contains(W.HIDE)?b.classList.remove(W.HIDE):b.classList.add(W.HIDE),this.checkboxIsChecked_=this.checkbox_.checked):(b.classList.add(W.HIDE),this.pdfBtnClicked_=!0);this.enableRegistrationLink_()};
Y.prototype.enableRegistrationLink_=function(){this.pdfBtnClicked_&&this.checkboxIsChecked_?(this.issuesList_.classList.add(W.HIDE),this.registrationLink_.classList.add(W.ACTIVE_REGISTRATION_LINK)):(this.issuesList_.classList.remove(W.HIDE),this.registrationLink_.classList.remove(W.ACTIVE_REGISTRATION_LINK))};Y.prototype.registerEvents_=function(){k.delegate(this.rules_,V.RULES_ISSUE_TRIGGERS,"click",this.toggleIssueItems_.bind(this))};
va.init=function(){var a=document.querySelector(V.QUIZ),b=document.querySelectorAll(V.RULES);window.smoothScroll&&window.smoothScroll.init({easing:"easeOutQuad",offset:128,speed:800});if(a)(new X(a)).onInit_();if(b.length)for(a=0;a<b.length;a++)(new Y(b[a])).onInit_()};var ya={},za={PLAYERS:"yt-video-iframe"},Aa={PAUSE_BTNS:".js-pause-video",PLAYERS:"["+za.PLAYERS+"]"};function Z(a){this.playerEl_=a;this.videoId_=this.playerEl_.getAttribute(za.PLAYERS)}Z.prototype.onInit_=function(){this.player_=new window.YT.Player(this.playerEl_,{height:"100",width:"100",videoId:this.videoId_,events:{onReady:this.registerEvents_.bind(this)},playerVars:{rel:0}})};Z.prototype.pauseVideo_=function(){this.player_.getPlayerState()==window.YT.PlayerState.PLAYING&&this.player_.pauseVideo()};
Z.prototype.registerEvents_=function(){k.delegate(document,Aa.PAUSE_BTNS,"click",this.pauseVideo_.bind(this));k.delegate(document,Aa.PAUSE_BTNS,"touchend",this.pauseVideo_.bind(this))};ya.init=function(){var a=document.querySelectorAll(Aa.PLAYERS);if(a.length)for(var b=0;b<a.length;b++)(new Z(a[b])).onInit_()};k.disableFocusOnMouseMove();var Ba=document.createElement("script");Ba.src="https://www.youtube.com/iframe_api";var Ca=document.getElementsByTagName("script")[0];Ca.parentNode.insertBefore(Ba,Ca);
window.addEventListener("load",function(){document.querySelector(".js-main").classList.add("main--active");document.querySelector(".js-loader").classList.add("yt-hide");document.documentElement.classList.remove("no-scroll");aa.init();fa.init();ga.init();ia.init();na.init();oa.init();da.init();ra.init();ta.init();va.init();ya.init()});}).call(window)
